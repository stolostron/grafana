"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[2970],{92970:(ar,ue,ee)=>{ee.r(ue),ee.d(ue,{default:()=>Qe});var xe=ee(47451),N=ee(31733);function ne(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t}var X;(function(e){e.event="event",e.props="prop"})(X||(X={}));function j(){}function $(e){return!!(e||"").match(/\d/)}function Y(e){return e==null}function fe(e){return typeof e=="number"&&isNaN(e)}function le(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Ne(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function De(e,r,t){var n=Ne(t),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+r)}function Ce(e){var r=(0,N.useRef)(e);r.current=e;var t=(0,N.useRef)(function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return r.current.apply(r,n)});return t.current}function ie(e,r){r===void 0&&(r=!0);var t=e[0]==="-",n=t&&r;e=e.replace("-","");var a=e.split("."),i=a[0],o=a[1]||"";return{beforeDecimal:i,afterDecimal:o,hasNegation:t,addNegation:n}}function Ve(e){if(!e)return e;var r=e[0]==="-";r&&(e=e.substring(1,e.length));var t=e.split("."),n=t[0].replace(/^0+/,"")||"0",a=t[1]||"";return(r?"-":"")+n+(a?"."+a:"")}function ve(e,r,t){for(var n="",a=t?"0":"",i=0;i<=r-1;i++)n+=e[i]||a;return n}function se(e,r){return Array(r+1).join(e)}function ce(e){var r=e+"",t=r[0]==="-"?"-":"";t&&(r=r.substring(1));var n=r.split(/[eE]/g),a=n[0],i=n[1];if(i=Number(i),!i)return t+a;a=a.replace(".","");var o=1+i,f=a.length;return o<0?a="0."+se("0",Math.abs(o))+a:o>=f?a=a+se("0",o-f):a=(a.substring(0,o)||"0")+"."+a.substring(o),t+a}function de(e,r,t){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||t)&&r,a=ie(e),i=a.beforeDecimal,o=a.afterDecimal,f=a.hasNegation,m=parseFloat("0."+(o||"0")),w=o.length<=r?"0."+o:m.toFixed(r),v=w.split("."),c=i.split("").reverse().reduce(function(g,y,E){return g.length>E?(Number(g[0])+Number(y)).toString()+g.substring(1,g.length):y+g},v[0]),u=ve(v[1]||"",r,t),d=f?"-":"",S=n?".":"";return""+d+c+S+u}function K(e,r){if(e.value=e.value,e!==null){if(e.createTextRange){var t=e.createTextRange();return t.move("character",r),t.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(r,r),!0):(e.focus(),!1)}}function Ee(e,r){for(var t=0,n=0,a=e.length,i=r.length;e[t]===r[t]&&t<a;)t++;for(;e[a-1-n]===r[i-1-n]&&i-n>t&&a-n>t;)n++;return{from:{start:t,end:a-n},to:{start:t,end:i-n}}}function Ie(e,r,t){return Math.min(Math.max(e,r),t)}function ge(e){return Math.max(e.selectionStart,e.selectionEnd)}function Re(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function me(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function he(e,r){return e===void 0&&(e=" "),typeof e=="string"?e:e[r]||" "}function Fe(e,r,t,n,a,i){var o=a.findIndex(function(I){return I}),f=e.slice(0,o);!r&&!t.startsWith(f)&&(t=f+t,n=n+f.length);for(var m=t.length,w=e.length,v={},c=new Array(m),u=0;u<m;u++){c[u]=-1;for(var d=0,S=w;d<S;d++)if(t[u]===e[d]&&v[d]!==!0){c[u]=d,v[d]=!0;break}}for(var g=n;g<m&&(c[g]===-1||!i(t[g]));)g++;var y=g===m||c[g]===-1?w:c[g];for(g=n-1;g>0&&c[g]===-1;)g--;var E=g===-1||c[g]===-1?0:c[g]+1;return E>y?y:n-E<y-n?E:y}function re(e,r,t,n){var a=e.length;if(r=Ie(r,0,a),n==="left"){for(;r>=0&&!t[r];)r--;r===-1&&(r=t.indexOf(!0))}else{for(;r<=a&&!t[r];)r++;r>a&&(r=t.lastIndexOf(!0))}return r===-1&&(r=a),r}function Oe(e){for(var r=Array.from({length:e.length+1}).map(function(){return!0}),t=0,n=r.length;t<n;t++)r[t]=!!($(e[t])||$(e[t-1]));return r}function Se(e,r,t,n,a,i){i===void 0&&(i=j);var o=(0,N.useRef)(),f=Ce(function(u){var d,S;return Y(u)||fe(u)?(S="",d=""):typeof u=="number"||t?(S=typeof u=="number"?ce(u):u,d=n(S)):(S=a(u,void 0),d=u),{formattedValue:d,numAsString:S}}),m=(0,N.useState)(function(){return f(r)}),w=m[0],v=m[1],c=function(u,d){v({formattedValue:u.formattedValue,numAsString:u.value}),i(u,d)};return(0,N.useMemo)(function(){Y(e)?o.current=void 0:(o.current=f(e),v(o.current))},[e,f]),[w,c]}function Ae(e){return e.replace(/[^0-9]/g,"")}function Be(e){return e}function ye(e){var r=e.type;r===void 0&&(r="text");var t=e.displayType;t===void 0&&(t="input");var n=e.customInput,a=e.renderText,i=e.getInputRef,o=e.format;o===void 0&&(o=Be);var f=e.removeFormatting;f===void 0&&(f=Ae);var m=e.defaultValue,w=e.valueIsNumericString,v=e.onValueChange,c=e.isAllowed,u=e.onChange;u===void 0&&(u=j);var d=e.onKeyDown;d===void 0&&(d=j);var S=e.onMouseUp;S===void 0&&(S=j);var g=e.onFocus;g===void 0&&(g=j);var y=e.onBlur;y===void 0&&(y=j);var E=e.value,I=e.getCaretBoundary;I===void 0&&(I=Oe);var O=e.isValidInputCharacter;O===void 0&&(O=$);var P=ne(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter"]),G=Se(E,m,!!w,o,f,v),Z=G[0],A=Z.formattedValue,z=Z.numAsString,U=G[1],M=(0,N.useRef)(),Q=function(l,s){M.current=l.formattedValue,U(l,s)};(0,N.useEffect)(function(){var l=o(z);if(M.current===void 0||l!==M.current){var s=p.current,h=f(l,void 0);_({formattedValue:l,numAsString:h,input:s,setCaretPosition:!0,source:X.props,event:void 0})}});var J=(0,N.useState)(!1),H=J[0],b=J[1],p=(0,N.useRef)(null),B=(0,N.useRef)({setCaretTimeout:null,focusTimeout:null});(0,N.useEffect)(function(){return b(!0),function(){clearTimeout(B.current.setCaretTimeout),clearTimeout(B.current.focusTimeout)}},[]);var D=o,L=function(l,s){var h=parseFloat(s);return{formattedValue:l,value:s,floatValue:isNaN(h)?void 0:h}},R=function(l,s,h){K(l,s),B.current.setCaretTimeout=setTimeout(function(){l.value===h&&K(l,s)},0)},T=function(l,s,h){return re(l,s,I(l),h)},W=function(l,s,h){var C=I(s),V=Fe(s,A,l,h,C,O);return V=re(s,V,C),V},_=function(l){var s=l.formattedValue;s===void 0&&(s="");var h=l.input,C=l.setCaretPosition;C===void 0&&(C=!0);var V=l.source,x=l.event,F=l.numAsString,k=l.caretPos;if(h){if(k===void 0&&C){var q=l.inputValue||h.value,oe=ge(h);h.value=s,k=W(q,s,oe)}h.value=s,C&&k!==void 0&&R(h,k,s)}s!==A&&Q(L(s,F),{event:x,source:V})},ae=function(l,s,h){var C=Ee(A,l),V=Object.assign(Object.assign({},C),{lastValue:A}),x=f(l,V),F=D(x);if(x=f(F,void 0),c&&!c(L(F,x))){var k=s.target,q=ge(k),oe=W(l,A,q);return R(k,oe,A),!1}return _({formattedValue:F,numAsString:x,inputValue:l,event:s,source:h,setCaretPosition:!0,input:s.target}),!0},Je=function(l){var s=l.target,h=s.value,C=ae(h,l,X.event);C&&u(l)},Xe=function(l){var s=l.target,h=l.key,C=s.selectionStart,V=s.selectionEnd,x=s.value;x===void 0&&(x="");var F;if(h==="ArrowLeft"||h==="Backspace"?F=Math.max(C-1,0):h==="ArrowRight"?F=Math.min(C+1,x.length):h==="Delete"&&(F=C),F===void 0||C!==V){d(l);return}var k=F;if(h==="ArrowLeft"||h==="ArrowRight"){var q=h==="ArrowLeft"?"left":"right";k=T(x,F,q)}else h==="Delete"&&!O(x[F])?k=T(x,F,"right"):h==="Backspace"&&!O(x[F])&&(k=T(x,F,"left"));k!==F&&R(s,k,x),l.isUnitTestRun&&R(s,k,x),d(l)},Ye=function(l){var s=l.target,h=s.selectionStart,C=s.selectionEnd,V=s.value;if(V===void 0&&(V=""),h===C){var x=T(V,h);x!==h&&R(s,x,V)}S(l)},qe=function(l){l.persist&&l.persist();var s=l.target;p.current=s,B.current.focusTimeout=setTimeout(function(){var h=s.selectionStart,C=s.selectionEnd,V=s.value;V===void 0&&(V="");var x=T(V,h);x!==h&&!(h===0&&C===V.length)&&R(s,x,V),g(l)},0)},er=function(l){p.current=null,clearTimeout(B.current.focusTimeout),clearTimeout(B.current.setCaretTimeout),y(l)},rr=H&&Re()?"numeric":void 0,pe=Object.assign({inputMode:rr},P,{type:r,value:A,onChange:Je,onKeyDown:Xe,onMouseUp:Ye,onFocus:qe,onBlur:er});if(t==="text")return a?N.createElement(N.Fragment,null,a(A,P)||null):N.createElement("span",Object.assign({},P,{ref:i}),A);if(n){var tr=n;return N.createElement(tr,Object.assign({},pe,{ref:i}))}return N.createElement("input",Object.assign({},pe,{ref:i}))}function be(e,r){var t=r.decimalScale,n=r.fixedDecimalScale,a=r.prefix;a===void 0&&(a="");var i=r.suffix;i===void 0&&(i="");var o=r.allowNegative,f=r.thousandsGroupStyle;if(f===void 0&&(f="thousand"),e===""||e==="-")return e;var m=te(r),w=m.thousandSeparator,v=m.decimalSeparator,c=t!==0&&e.indexOf(".")!==-1||t&&n,u=ie(e,o),d=u.beforeDecimal,S=u.afterDecimal,g=u.addNegation;return t!==void 0&&(S=ve(S,t,!!n)),w&&(d=De(d,w,f)),a&&(d=a+d),i&&(S=S+i),g&&(d="-"+d),e=d+(c&&v||"")+S,e}function te(e){var r=e.decimalSeparator;r===void 0&&(r=".");var t=e.thousandSeparator,n=e.allowedDecimalSeparators;return t===!0&&(t=","),n||(n=[r,"."]),{decimalSeparator:r,thousandSeparator:t,allowedDecimalSeparators:n}}function Te(e,r){e===void 0&&(e="");var t=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=t.test(e),i=n.test(e);return e=e.replace(/-/g,""),a&&!i&&r&&(e="-"+e),e}function ke(e,r){return new RegExp("(^-)|[0-9]|"+le(e),r?"g":void 0)}function Pe(e,r,t){var n;r===void 0&&(r=me(e));var a=t.allowNegative,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var f=t.decimalScale,m=r.from,w=r.to,v=w.start,c=w.end,u=te(t),d=u.allowedDecimalSeparators,S=u.decimalSeparator,g=e[c]===S;if($(e)&&(e===i||e===o)&&r.lastValue==="")return e;if(c-v===1&&d.indexOf(e[v])!==-1){var y=f===0?"":S;e=e.substring(0,v)+y+e.substring(v+1,e.length)}var E=function(D,L,R){var T=!1,W=!1;i.startsWith("-")?T=!1:D.startsWith("--")?(T=!1,W=!0):o.startsWith("-")&&D.length===o.length?T=!1:D[0]==="-"&&(T=!0);var _=T?1:0;return W&&(_=2),_&&(D=D.substring(_),L-=_,R-=_),{value:D,start:L,end:R,hasNegation:T}},I=E(e,v,c),O=I.hasNegation;n=I,e=n.value,v=n.start,c=n.end;var P=E(r.lastValue,m.start,m.end),G=P.start,Z=P.end,A=P.value,z=e.substring(v,c);e.length&&A.length&&(G>A.length-o.length||Z<i.length)&&!(z&&o.startsWith(z))&&(e=A);var U=0;e.startsWith(i)?U+=i.length:v<i.length&&(U=v),e=e.substring(U),c-=U;var M=e.length,Q=e.length-o.length;e.endsWith(o)?M=Q:(c>Q||c>e.length-o.length)&&(M=c),e=e.substring(0,M),e=Te(O?"-"+e:e,a),e=(e.match(ke(S,!0))||[]).join("");var J=e.indexOf(S);e=e.replace(new RegExp(le(S),"g"),function(D,L){return L===J?".":""});var H=ie(e,a),b=H.beforeDecimal,p=H.afterDecimal,B=H.addNegation;return w.end-w.start<m.end-m.start&&b===""&&g&&!parseFloat(p)&&(e=B?"-":""),e}function _e(e,r){var t=r.prefix;t===void 0&&(t="");var n=r.suffix;n===void 0&&(n="");var a=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";a.fill(!1,0,t.length+(i?1:0));var o=e.length;return a.fill(!1,o-n.length+1,o+1),a}function Me(e){var r=te(e),t=r.thousandSeparator,n=r.decimalSeparator,a=e.prefix;a===void 0&&(a="");var i=e.allowNegative;if(i===void 0&&(i=!0),t===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+t+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function je(e){e=Me(e);var r=e.decimalSeparator;r===void 0&&(r=".");var t=e.allowedDecimalSeparators,n=e.thousandsGroupStyle,a=e.suffix,i=e.allowNegative,o=e.allowLeadingZeros,f=e.onKeyDown;f===void 0&&(f=j);var m=e.onBlur;m===void 0&&(m=j);var w=e.thousandSeparator,v=e.decimalScale,c=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var d=e.defaultValue,S=e.value,g=e.valueIsNumericString,y=e.onValueChange,E=ne(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),I=function(b){return be(b,e)},O=function(b,p){return Pe(b,p,e)},P=g;Y(S)?Y(d)||(P=g??typeof d=="number"):P=g??typeof S=="number";var G=function(b){return Y(b)||fe(b)?b:(typeof b=="number"&&(b=ce(b)),P&&typeof v=="number"?de(b,v,!!c):b)},Z=Se(G(S),G(d),!!P,I,O,y),A=Z[0],z=A.numAsString,U=A.formattedValue,M=Z[1],Q=function(b){var p=b.target,B=b.key,D=p.selectionStart,L=p.selectionEnd,R=p.value;if(R===void 0&&(R=""),D!==L){f(b);return}B==="Backspace"&&R[0]==="-"&&D===u.length+1&&i&&K(p,1);var T=te(e),W=T.decimalSeparator,_=T.allowedDecimalSeparators;B==="Backspace"&&R[D-1]===W&&v&&c&&(K(p,D-1),b.preventDefault()),_?.includes(B)&&R[D]===W&&K(p,D+1);var ae=w===!0?",":w;B==="Backspace"&&R[D-1]===ae&&K(p,D-1),B==="Delete"&&R[D]===ae&&K(p,D+1),f(b)},J=function(b){var p=z;if(p.match(/\d/g)||(p=""),o||(p=Ve(p)),c&&v&&(p=de(p,v,c)),p!==z){var B=be(p,e);M({formattedValue:B,value:p,floatValue:parseFloat(p)},{event:b,source:X.event})}m(b)},H=function(b){return b===r?!0:$(b)};return Object.assign(Object.assign({},E),{value:U,valueIsNumericString:!1,isValidInputCharacter:H,onValueChange:M,format:I,removeFormatting:O,getCaretBoundary:function(b){return _e(b,e)},onKeyDown:Q,onBlur:J})}function Le(e){var r=je(e);return N.createElement(ye,Object.assign({},r))}function Ke(e,r){var t=r.format,n=r.allowEmptyFormatting,a=r.mask,i=r.patternChar;if(i===void 0&&(i="#"),e===""&&!n)return"";for(var o=0,f=t.split(""),m=0,w=t.length;m<w;m++)t[m]===i&&(f[m]=e[o]||he(a,o),o+=1);return f.join("")}function Ue(e,r,t){r===void 0&&(r=me(e));var n=t.format,a=t.patternChar;a===void 0&&(a="#");var i=r.from,o=r.to,f=r.lastValue;f===void 0&&(f="");var m=function(y){return n[y]===a},w=function(y,E){for(var I="",O=0;O<y.length;O++)m(E+O)&&$(y[O])&&(I+=y[O]);return I},v=function(y){return y.replace(/[^0-9]/g,"")};if(!n.match(/\d/))return v(e);if(f===""&&e.length===n.length){for(var c="",u=0;u<e.length;u++)if(m(u))$(e[u])&&(c+=e[u]);else if(e[u]!==n[u])return v(e);return c}var d=f.substring(0,i.start),S=e.substring(o.start,o.end),g=f.substring(i.end);return""+w(d,0)+v(S)+w(g,i.end)}function We(e,r){var t=r.format,n=r.mask,a=r.patternChar;a===void 0&&(a="#");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=0,f=-1,m={};t.split("").forEach(function(u,d){var S=void 0;u===a&&(o++,S=he(n,o-1),f===-1&&e[d]===S&&(f=d)),m[d]=S});for(var w=function(u){return t[u]===a&&e[u]!==m[u]},v=0,c=i.length;v<c;v++)i[v]=v===f||w(v)||w(v-1);return i[t.indexOf(a)]=!0,i}function $e(e){var r=e.mask;if(r){var t=r==="string"?r:r.toString();if(t.match(/\d/g))throw new Error("Mask "+r+" should not contain numeric character;")}}function Ge(e){var r=e.mask,t=e.allowEmptyFormatting,n=e.format,a=e.inputMode;a===void 0&&(a="numeric");var i=e.onKeyDown;i===void 0&&(i=j);var o=e.patternChar;o===void 0&&(o="#");var f=ne(e,["mask","allowEmptyFormatting","format","inputMode","onKeyDown","patternChar"]);$e(e);var m=function(v){return We(v,e)},w=function(v){var c=v.key,u=v.target,d=u.selectionStart,S=u.selectionEnd,g=u.value;if(d!==S){i(v);return}var y=d;if(c==="Backspace"||c==="Delete"){var E="right";if(c==="Backspace"){for(;y>0&&n[y-1]!==o;)y--;E="left"}else{for(var I=n.length;y<I&&n[y]!==o;)y++;E="right"}y=re(g,y,m(g),E)}else n[y]!==o&&c!=="ArrowLeft"&&c!=="ArrowRight"&&(y=re(g,y+1,m(g),"right"));y!==d&&K(u,y),i(v)};return Object.assign(Object.assign({},f),{inputMode:a,format:function(v){return Ke(v,e)},removeFormatting:function(v,c){return Ue(v,c,e)},getCaretBoundary:m,onKeyDown:w})}function nr(e){var r=Ge(e);return React.createElement(ye,Object.assign({},r))}var Ze=(0,xe.d)("div")({name:"NumberOverlayEditorStyle",class:"n1czszh3"});function we(){var e,r,t;const a=(t=(r=(e=Intl.NumberFormat())==null?void 0:e.formatToParts(1.1))==null?void 0:r.find(i=>i.type==="decimal"))==null?void 0:t.value;return a??"."}function ze(){return we()==="."?",":"."}var He=e=>{const{value:r,onChange:t,disabled:n,highlight:a,validatedSelection:i}=e,o=N.useRef();return N.useLayoutEffect(()=>{var f;if(i!==void 0){const m=typeof i=="number"?[i,null]:i;(f=o.current)==null||f.setSelectionRange(m[0],m[1])}},[i]),N.createElement(Ze,null,N.createElement(Le,{autoFocus:!0,getInputRef:o,className:"gdg-input",onFocus:f=>f.target.setSelectionRange(a?0:f.target.value.length,f.target.value.length),disabled:n===!0,thousandSeparator:ze(),decimalSeparator:we(),value:Object.is(r,-0)?"-":r??"",onValueChange:t}))},Qe=He}}]);

//# sourceMappingURL=2970.7bb157a0b0d359c25c03.js.map